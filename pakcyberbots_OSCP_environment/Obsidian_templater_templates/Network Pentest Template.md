<%*
	let title = tp.file.title
	if (title.startsWith("Untitled")){
		title= await tp.system.prompt("Title")
		await tp.file.rename(title)
	}
%>

<%*
const machineCount = parseInt(await tp.system.prompt("Enter number of machines:"), 10)
const today = tp.date.now("YYYY-MM-DD")

// Ask if user wants to input IPs
const ipChoice = await tp.system.prompt("Do you want to supply the IPs? (Y/N)")
let ipList = []

if (ipChoice && ipChoice.trim().toLowerCase() === 'y') {
  const ipText = await tp.system.prompt("Enter IPs (comma-separated)")
  ipList = ipText.split(",").map(ip => ip.trim()).filter(ip => ip.length > 0)
}

// Pad IP list if not enough IPs given
while (ipList.length < machineCount) {
  ipList.push("x.x.x.x")
}

tR += `---
title: ${title}
date: ${today}
machines: ${machineCount}
---

# ðŸ—„CREDS.txt
\`\`\`

\`\`\`
## Hashes
\`\`\`
# Domain accounts

# Local Accounts

\`\`\`

## Personal Notes
\`\`\`

\`\`\`
## Path or CheckPoint


# ðŸ—ƒ<font color="#00b0f0">ActiveDirectory Domain Info</font>
\`\`\`

\`\`\`

`

for (let i = 0; i < machineCount; i++) {
  tR += `# Machine ${i+1} - IP: ${ipList[i]}
## Enumeration
### Nmap
#### Basic Scan
\`\`\`shell

\`\`\`

#### Full Scan
\`\`\`shell

\`\`\`

#### UDP Scan
\`\`\`shell

\`\`\`


### Web Apps (ports: )
#### Directory Busting
\`\`\`shell

\`\`\`

#### Potential webattacks
\`\`\`shell

\`\`\`

### Potential Exploits/Paths to infiltrate

## ðŸšªInitial Foothold
- How I got initial Foothold ?

### Machine Enumerated Data
\`\`\`shell

\`\`\`

## Potential PrivEsc vectors

## â¬†Privilege Escalation
- How I escalated to High Privileged Account ?

## Notes

## Flags
\n`
}
%>

# Attack Narrative
